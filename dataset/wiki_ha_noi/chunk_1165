Giữa thế kỷ XX, Hà Nội chịu những biến cố phức tạp của lịch sử. Sự kiện Nhật Bản tấn công Đông Dương năm 1940 khiến Việt Nam phải nằm dưới sự cai trị của cả đế quốc Pháp và Nhật. Ngày 9 tháng 3 năm 1945, tại Hà Nội, quân đội Nhật đảo chính Pháp. Nhưng chỉ 5 tháng sau, quốc gia này phải đầu hàng quân Đồng Minh, kết thúc cuộc Chiến tranh thế giới thứ hai. Vào thời điểm thuận lợi đó, lực lượng Việt Minh tổ chức cuộc Cách mạng tháng Tám thành công, lật đổ nhà nước Đế quốc Việt Nam, buộc vua Bảo Đại thoái vị, giành lấy quyền lực ở Việt Nam. Ngày 2 tháng 9 năm 1945, Hồ Chí Minh đọc tuyên ngôn độc lập tại quảng trường Ba Đình, khai sinh nước Việt Nam Dân chủ Cộng hòa với thủ đô Hà Nội. Sau độc lập, thành phố chia thành các khu phố, đổi tên nhiều vườn hoa, đường phố, như đại lộ (Avenue) Paul Doumer đổi tên là Nhân quyền, đường (Rue de la) République đổi tên là Dân Quyền, đại lộ Puginier đổi tên là Dân Chủ Cộng Hòa, đường Ollivier đổi là Hạnh Phúc, đường Dr Morel đổi là Tự Do...</body><body>Cuối năm 1945, quân đội Pháp quay lại Đông Dương. Sau những thương lượng không thành, Chiến tranh Đông Dương bùng nổ vào tháng 12 năm 1946 và thành phố Hà Nội nằm trong vùng kiểm soát của người Pháp. Sau khi Quốc gia Việt Nam được thành lập năm 1949, Hà Nội được Pháp chuyển giao cho Quốc gia Việt Nam quản lý. Quốc trưởng Quốc gia Việt Nam khi đó là Bảo Đại đã bổ nhiệm dược sĩ Thẩm Hoàng Tín làm Thị trưởng thành phố. Năm 1954, chiến thắng Điện Biên Phủ giúp Việt Minh kiểm soát toàn bộ miền Bắc Việt Nam, Hà Nội tiếp tục giữ vị trí thủ đô của Việt Nam Dân chủ Cộng hòa. Ngày 30 tháng 9 năm 1954, Việt Nam Dân chủ Cộng hòa và Pháp ký Hiệp định chuyển giao Hà Nội về quân sự; ngày 2 tháng 10, ký Hiệp định chuyển giao Hà Nội về hành chính. Vào thời điểm được tiếp quản, thành phố gồm 4 quận nội thành với 34 khu phố, 37.000 dân và 4 quận ngoại thành với 45 xã, 16.000 dân. Cuối thập niên 1950 và đầu thập niên 1960, Hà Nội nhiều lần thay đổi về hành chính và địa giới. Năm 1958, 4 quận nội thành bị xóa bỏ và thay bằng 12 khu phố. Năm 1959, khu vực nội thành được chia lại thành 8 khu phố, Hà Nội cũng có thêm 4 huyện ngoại thành. Tháng 4 năm 1961, Quốc hội quyết định mở rộng địa giới Hà Nội, sáp nhập thêm một số xã của Hà Đông, Bắc Ninh, Vĩnh Phúc và Hưng Yên. Toàn thành phố có diện tích 584 km², dân số 91.000 người. Ngày 31 tháng 5 năm 1961, 4 khu phố nội thành Hoàn Kiếm, Hai Bà Trưng, Ba Đình, Đống Đa và 4 huyện ngoại thành Đông Anh, Gia Lâm, Thanh Trì, Từ Liêm được thành lập.</body><body>Khi cuộc Chiến tranh Việt Nam leo thang, Hà Nội phải hứng chịu những cuộc tấn công trực tiếp từ Hoa Kỳ. Riêng trong chiến dịch Linebacker II năm 1972, trong khoảng 2.200 người dân bị thiệt mạng ở miền Bắc, số nạn nhân ở Hà Nội được thống kê là 1.318 người. Nhiều cơ quan, trường học phải sơ tán tới các tỉnh lân cận.